bakari-promise
==============

##About

`bakari-promise`是bakari框架中的承诺模块。

##Install

通过npm安装bakari-promise。

	npm install bakari-promise

##Usage

引入bakari-promise：
	
	var Promise = require('bakari-promise');
	
创建并解决一个承诺：

	// 创建一个承诺
	var promise = Promise();
	
	// 承诺完成后回掉函数
	promise.done(function(){
		alert('done!');
	});
	
	promise.resolve(); // alert 'done!'
	

##Method

`done(fn)` : 设置承诺解决后的回调函数。

`fail(fn)` : 设置承诺拒绝后的回调函数。

`always(fn)` : 设置承诺处理后的回调函数，无论承诺被解决或拒绝都会执行这个函数。

`then(doneFn, failFn)` : 同时设置承诺解决及拒绝后的回调函数。

`resolve` : 解决一个承诺。

`reject` : 拒绝一个承诺。


##传入参数

你可以为承诺传入参数，像这样：

	var promise = Promise();
	
	promise.done(function( name ){
		alert(name);
	});
	
	promise.resolve('jim'); // alert 'jim';

##承诺的状态

你可以访问承诺的`status`属性来获取当前承诺的状态。

状态包括：

- pending : 尚未完成
- resolved : 已解决
- rejected : 已拒绝
- resolving : 正在解决
- rejecting : 正在拒绝

像这样访问：

	var promise = Promise();
	alert(promise.status); // alert 'pending'


##立即执行承诺

当承诺已经被处理，设置的回调函数将立即被执行：

	var promise = Promise();
	
	promise.reject();
	
	promise.fail(function(){
		alert('fail!');
	});
	
	// alert 'fail!';
	
##回调函数队列

你可以访问承诺的`callback`属性来获取，回掉函数队列。